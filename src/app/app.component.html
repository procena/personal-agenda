<mat-drawer-container style="height: 95vh">
  <mat-drawer mode="side" opened id="toolbar">
    <mat-card>
      <mat-card-header>
        <mat-card-title>O que temos marcado para hoje?</mat-card-title>
        <mat-card-subtitle>
          <img
            class="welcome-img"
            src="https://c.tenor.com/g6ZKqhZUoQ8AAAAC/boy-cute.gif"
            alt=""
          />
        </mat-card-subtitle>
      </mat-card-header>
      <mat-divider [inset]="true"></mat-divider>
      <mat-card-content class="list-task">
        <mat-list>
          <mat-list-item *ngFor="let item of marcacoes">
            <mat-icon mat-list-icon>note</mat-icon>
            <div mat-line>{{ item.evento }}</div>
            <div mat-line>{{ item.data }},{{ item.hora }}</div>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </mat-drawer>
  <mat-drawer-content>
    <mat-card>
      <mat-card-header>
        <mat-card-title>Bem-vindo, {{ nome }}</mat-card-title>
        <span class="example-spacer"></span>
        <button mat-raised-button color="accent" (click)="openDialog()">
          Nova marcação
        </button>
      </mat-card-header>
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Meu Calendario </mat-panel-title>
            <mat-panel-description>
              Resumo mensal dos eventos marcados
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-card-content class="calendar">
            <mat-form-field appearance="fill">
              <mat-label>Mês:</mat-label>
              <mat-select
                [(value)]="selectedMounth"
                (selectionChange)="selectMonth()"
              >
                <mat-option>--</mat-option>
                <mat-option *ngFor="let mes of monthFilters" [value]="mes">{{
                  mes
                }}</mat-option>
              </mat-select>
            </mat-form-field>
            <table
              mat-table
              [dataSource]="dataSource"
              class="mat-elevation-z8"
              id="calendar"
            >
              <ng-container matColumnDef="Dom">
                <th mat-header-cell *matHeaderCellDef>Dom</th>
                <td mat-cell *matCellDef="let element">{{ element.Dom }}</td>
              </ng-container>

              <ng-container matColumnDef="Seg">
                <th mat-header-cell *matHeaderCellDef>Seg</th>
                <td mat-cell *matCellDef="let element">{{ element.Seg }}</td>
              </ng-container>

              <ng-container matColumnDef="Ter">
                <th mat-header-cell *matHeaderCellDef>Ter</th>
                <td mat-cell *matCellDef="let element">{{ element.Ter }}</td>
              </ng-container>

              <ng-container matColumnDef="Qua">
                <th mat-header-cell *matHeaderCellDef>Qua</th>
                <td mat-cell *matCellDef="let element">{{ element.Qua }}</td>
              </ng-container>
              <ng-container matColumnDef="Qui">
                <th mat-header-cell *matHeaderCellDef>Qui</th>
                <td mat-cell *matCellDef="let element">{{ element.Qui }}</td>
              </ng-container>

              <ng-container matColumnDef="Sex">
                <th mat-header-cell *matHeaderCellDef>Sex</th>
                <td mat-cell *matCellDef="let element">{{ element.Sex }}</td>
              </ng-container>

              <ng-container matColumnDef="Sab">
                <th mat-header-cell *matHeaderCellDef>Sab</th>
                <td mat-cell *matCellDef="let element">{{ element.Sab }}</td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
          </mat-card-content>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Nova Marcação</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-card-content>
            <form id="addEvento" (ngSubmit)="addMarcacao()">
              <table class="table-add-event" cellspacing="0">
                <tr>
                  <td>
                    <mat-form-field
                      class="example-full-width"
                      appearance="fill"
                    >
                      <mat-label>Data</mat-label>
                      <input
                        type="date"
                        matInput
                        [(ngModel)]="novaMarcacao.data" name="data"
                      />
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field
                      class="example-full-width"
                      appearance="fill"
                    >
                      <mat-label>Hora</mat-label>
                      <mat-select [(ngModel)]="novaMarcacao.hora" name="hora">
                        <mat-option>...</mat-option>
                        <mat-option *ngFor="let hour of hours" [value]="hour">
                          {{ hour }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </td>
                </tr>
                <tr>
                  <th colspan="2">
                    <mat-form-field
                      class="example-full-width"
                      appearance="fill"
                    >
                      <mat-label>Descrição do Evento</mat-label>
                      <textarea
                        matInput
                        [(ngModel)]="novaMarcacao.evento" name="evento"
                      ></textarea>
                    </mat-form-field>
                  </th>
                </tr>
                <tr>
                  <th colspan="2">
                    <button type="submit" mat-raised-button color="primary">Marcar</button>
                  </th>
                </tr>
              </table>
            </form>
          </mat-card-content>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-card>
  </mat-drawer-content>
</mat-drawer-container>

<router-outlet></router-outlet>
